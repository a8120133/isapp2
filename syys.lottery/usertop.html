<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="./jquery.min.js"></script>
    <script type="text/javascript" src="./osql.js"></script>

    <script>
        osql.requireLogin();

        async function buttonPressed() {
            var me = await osql.getMe();
            console.log(me);
            yakuwari = document.getElementById('person');
            if (x =='管理者'){
                location.href = 'admin1.html';
            }else if (x =='参加者'){
                var sql_1 = `Insert ignore into Players (playerId, name) values("${me.id}", "${me.lname}");`;//Playerに自分の情報を追加
                var objects_1 = await osql.connect(sql_1);

                location.href = 'lottery-personal.html';
            }
            

            sessionStorage.setItem('playerId', me.id);
            sessionStorage.setItem('name', me.lname);
        }

//             //location.href = 'waiting.html';
//             function myCheck(){
//                 var flag = false; // 選択されているか否かを判定するフラグ
   
//    //　ラジオボタンの数だけ判定を繰り返す（ボタンを表すインプットタグがあるので１引く）
//                 for(var i=0; i<3;i++){
 
//         // i番目のラジオボタンがチェックされているかを判定
//                     if(document.form1.person[i].checked){ 
//                         flag = true;    
//                         alert(document.form1.person[i].value + "が選択されました。");
//                     }
//                 }
  
//     // 何も選択されていない場合の処理
//                 if(!flag){ 
//                     alert("項目が選択されていません。");
//                 }
//             }
//         }


    </script>

</head>

<body>
    <h1>ユーザートップ</h1>
        役割：（管理者か参加者か入力してください）<input type = 'text' id = 'person'>
    <div>
        <button onclick="buttonPressed()">ログイン</button>
    </div>
</body>

</html>