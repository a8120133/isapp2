<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理者1</title>
    <script type="text/javascript" src="./jquery.min.js"></script>
    <script type="text/javascript" src="./osql.js"></script>
    <script>
        async function buttonPressed(){
            var Lottery_name = document.getElementById("Lottery_name").value;
            var Lottery_host = sessionStorage.getItem('Lottery_host');
            var Level_numbers = Number(document.getElementById("Level_numbers").value);

            var sql = `Insert into Lotteries (Lottery_name, Lottery_host, Status, Player_numbers, Level_numbers) values ("${Lottery_name}", "${Lottery_host}", "waiting", 0, ${Level_numbers});`;
            var objects = await osql.connect(sql);
            console.log(Lottery_name);
            console.log(Lottery_host);
            console.log(Level_numbers);

            sessionStorage.setItem("Lottery_name", Lottery_name);
            sessionStorage.setItem("Level_numbers", Level_numbers);

            location.href = 'admin2.html';
            
        }

    </script>
</head>
<body>
    <h1>管理者ページ1</h1>
    <hr>
    <div style="text-align: center;">
        <div>
            <p>イベント名：
                <input type="text" id="Lottery_name">
            </p>
            <p>何等まで？:
                <input type="int" id="Level_numbers">
                <br>(半角数字で記入してください)
            </p>
        </div>
    </div>
    <button onclick="buttonPressed()">次へ</button>
    <hr>
    
</body>
</html>